params.reference    = "/home/alexandr/Documents/test/MT.fa"
params.reads        = "/home/alexandr/Documents/test/*R{1,2}*.fastq*"
params.outdir       = "results"
params.help = false
params.cpus = 10
params.memory = 7
manifest.defaultBranch = 'main'

process {
    withName:REFINDEX {
        container = 'glebusasha/bwa_samtools'
    }
    withName:QCONTROL {
        container = 'nanozoo/fastp:0.23.1--9f2e255'
    }
    withName:ALIGN {
        container = 'glebusasha/bwa_samtools'
    }  
    withName:PREPARE {
		container = 'glebusasha/bwa_samtools'
	}
    withName:VARCALL {
		container = 'google/deepvariant:1.6.1'
	}
}

profiles {
    debug {
        cleanup                = false
        dumpHashes             = true
        process.beforeScript   = 'echo $HOSTNAME'
    }
    conda {
        conda.enabled          = true
        docker.enabled         = false
        singularity.enabled    = false
    }
    docker {
        conda.enabled          = false
        docker.enabled         = true
        singularity.enabled    = false
    }
    singularity {
        conda.enabled          = false
        docker.enabled         = false
        singularity.enabled    = true
    }
}
